var discordWidget=discordWidget||(function(){var c={};return{init:function(e){e.serverId=typeof e.serverId!=="undefined"?e.serverId:false;e.title=typeof e.title!=="undefined"?e.title:false;e.join=typeof e.join!=="undefined"?e.join:true;e.alphabetical=typeof e.alphabetical!=="undefined"?e.alphabetical:false;c.serverId=e.serverId;c.title=e.title;c.join=e.join;c.alphabetical=e.alphabetical},render:function(){b("http://discord.knightsoftheblade.com/style.min.css","css");var e="http://discordapp.com/api/servers/"+c.serverId+"/embed.json";var f=new XMLHttpRequest();f.onreadystatechange=function(){if(f.readyState==4&&f.status==200){var g=JSON.parse(f.responseText);d(g,c)}};f.open("GET",e,true);f.send()}};function a(f,e){if(f.position<e.position){return -1}if(f.position>e.position){return 1}return 0}function d(r,g){var s=document.getElementsByClassName("discord-widget")[0];var t='<ul class="discord-tree"></ul><p class="discord-users-online"></p><p class="discord-join"></p><div class="discord-fade"></div>';var m="";var h="";var e,o,q;var n,f;if(g.title!==false){s.innerHTML='<div class="discord-title"><h3>'+g.title+"</h3></div>"+t;e=document.getElementsByClassName("discord-tree")[0]}else{s.innerHTML=t;e=document.getElementsByClassName("discord-tree")[0];e.style.marginTop="0"}o=document.getElementsByClassName("discord-users-online")[0];q=document.getElementsByClassName("discord-join")[0];if(g.alphabetical){for(var l=0;l<r.channels.length;l++){m+='<li class="discord-channel">'+r.channels[l].name+'</li><ul class="discord-userlist">';for(var k=0;k<r.members.length;k++){h="";if(r.members[k].game){h=" - "+r.members[k].game.name}if(r.members[k].channel_id==r.channels[l].id){if(r.members[k].status!="online"){m+='<li class="discord-user"><img src="'+r.members[k].avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-idle"></div>'+r.members[k].username+"<span>"+h+"</span></li>"}else{m+='<li class="discord-user"><img src="'+r.members[k].avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-online"></div>'+r.members[k].username+"<span>"+h+"</span></li>"}}}m+="</ul>"}}else{n=[];for(var l=0;l<r.channels.length;l++){n.push(r.channels[l])}n.sort(a);for(var l=0;l<n.length;l++){m+='<li class="discord-channel">'+n[l].name+'</li><ul class="discord-userlist">';for(var k=0;k<r.members.length;k++){h="";if(r.members[k].game){h=" - "+r.members[k].game.name}if(r.members[k].channel_id==n[l].id){if(r.members[k].status!="online"){m+='<li class="discord-user"><img src="'+r.members[k].avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-idle"></div>'+r.members[k].username+"<span>"+h+"</span></li>"}else{m+='<li class="discord-user"><img src="'+r.members[k].avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-online"></div>'+r.members[k].username+"<span>"+h+"</span></li>"}}}m+="</ul>"}}var u="";if(r.instant_invite!="null"){u='<p class="discord-join"><a href="'+r.instant_invite+'">Join Server</a></p>'}e.innerHTML=m;o.innerHTML="Users Online: "+r.members.length;if(g.join){q.innerHTML=u}else{q.style.display="none"}}function b(e,f){if(f=="css"){var g=document.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("href",e)}if(typeof g!="undefined"){document.getElementsByTagName("head")[0].appendChild(g)}}}());