var discordWidget=discordWidget||(function(){var b={};return{init:function(d){b=d},render:function(){a("http://discord.knightsoftheblade.com/style.min.css","css");var d="http://discordapp.com/api/servers/"+b.serverId+"/embed.json";var e=new XMLHttpRequest();e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){var f=JSON.parse(e.responseText);c(f,b.font)}};e.open("GET",d,true);e.send()}};function c(n,k){var h="";var m="";for(var g=0;g<n.channels.length;g++){h+='<li class="discord-channel">'+n.channels[g].name+'</li><ul class="discord-userlist">';for(var e=0;e<n.members.length;e++){m="";if(n.members[e].game){m=" - "+n.members[e].game.name}if(n.members[e].channel_id==n.channels[g].id){if(n.members[e].status!="online"){h+='<li class="discord-user"><img src="'+n.members[e].avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-idle"></div>'+n.members[e].username+"<span>"+m+"</span></li>"}else{h+='<li class="discord-user"><img src="'+n.members[e].avatar_url+'" class="discord-avatar"/><div class="discord-user-status discord-online"></div>'+n.members[e].username+"<span>"+m+"</span></li>"}}}h+="</ul>"}var l="";if(n.instant_invite!="null"){l='<p class="discord-join"><a href="'+n.instant_invite+'">Join Server</a></p>'}document.getElementsByClassName("discord-tree")[0].innerHTML=h;document.getElementsByClassName("discord-users-online")[0].innerHTML="Users Online: "+n.members.length;document.getElementsByClassName("discord-join")[0].innerHTML=l}function a(d,e){if(e=="css"){var f=document.createElement("link");f.setAttribute("rel","stylesheet");f.setAttribute("type","text/css");f.setAttribute("href",d)}if(typeof f!="undefined"){document.getElementsByTagName("head")[0].appendChild(f)}}}());